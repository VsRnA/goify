# Goify üöÄ

–ë—ã—Å—Ç—Ä—ã–π, –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏ –≤—ã—Ä–∞–∑–∏—Ç–µ–ª—å–Ω—ã–π HTTP –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è Go, –≤–¥–æ—Ö–Ω–æ–≤–ª–µ–Ω–Ω—ã–π Fastify –∏ Express.js.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚ö° **–ë—ã—Å—Ç—Ä—ã–π**: –ü–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Go –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ü™∂ **–õ–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π**: –ë–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- üéØ **–ü—Ä–æ—Å—Ç–æ–π**: –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π API –ø–æ—Ö–æ–∂–∏–π –Ω–∞ Express.js/Fastify
- üîß **–ì–∏–±–∫–∏–π**: –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è
- üìù **–ë–æ–≥–∞—Ç—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
- üîó **Middleware**: –ú–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ middleware —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º–∏ middleware
- üõ°Ô∏è **–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ CORS, recovery –∏ authentication middleware
- üéØ **URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ :param –∏ *wildcard –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- üìÅ **–ì—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤**: –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ –∏ –≥—Ä—É–ø–ø–æ–≤—ã–º–∏ middleware
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ú–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å struct tags –∏ custom –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞–º–∏
- üì§ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ multipart form —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ñ–∞–π–ª–æ–≤
- üîÑ **Graceful Shutdown**: –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π —Å–∏–≥–Ω–∞–ª–æ–≤
- üè• **Health Checks**: –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
go get github.com/VsRnA/goify
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

```go
package main

import (
    "log"
    "github.com/VsRnA/goify"
)

func main() {
    app := goify.New()

    app.GET("/", func(c *goify.Context) {
        c.JSON(200, goify.H{
            "message": "–ü—Ä–∏–≤–µ—Ç –æ—Ç Goify!",
        })
    })

    log.Fatal(app.Listen(":3000"))
}
```

## Graceful Shutdown –∏ Health Checks

Goify –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

### Graceful Shutdown

#### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```go
app := goify.New()

app.GET("/", func(c *goify.Context) {
    c.SendSuccess(goify.H{"message": "–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç"})
})

if err := app.ListenAndServeWithGracefulShutdown(":3000"); err != nil {
    log.Fatal(err)
}
```

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ shutdown
```go
config := goify.ShutdownConfig{
    Timeout: 30 * time.Second,
}

app.OnShutdown(func() {
    log.Println("–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö...")
    db.Close()
})

app.OnShutdown(func() {
    log.Println("–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –∫—ç—à–µ...")
    cache.Save()
})

app.ListenAndServeWithGracefulShutdown(":3000", config)
```

#### –†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```go
go func() {
    if err := app.Listen(":3000"); err != nil {
        log.Fatal(err)
    }
}()

quit := make(chan os.Signal, 1)
signal.Notify(quit, syscall.SIGTERM, syscall.SIGINT)
<-quit

ctx, cancel := context.WithTimeout(context.Background(), 30*time.Second)
defer cancel()

if err := app.Shutdown(ctx); err != nil {
    log.Fatal("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä–∞:", err)
}
```

### Health Checks

#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```go
goify.SetAppInfo("1.0.0", "production")

goify.RegisterHealthCheck("database", goify.DatabaseHealthCheck(func() error {
    ctx, cancel := context.WithTimeout(context.Background(), 5*time.Second)
    defer cancel()
    return db.PingContext(ctx)
}))

goify.RegisterHealthCheck("redis", goify.RedisHealthCheck(func() error {
    return redisClient.Ping().Err()
}))

goify.RegisterHealthCheck("memory", goify.MemoryHealthCheck(500))
goify.RegisterHealthCheck("disk", goify.DiskSpaceHealthCheck("/", 10))
```

#### Health endpoints
```go
app.GET("/health", goify.HealthCheckHandler())

app.GET("/liveness", func(c *goify.Context) {
    c.JSON(200, goify.H{
        "status": "alive",
        "timestamp": time.Now(),
    })
})

app.GET("/readiness", func(c *goify.Context) {
    c.JSON(200, goify.H{
        "status": "ready",
        "timestamp": time.Now(),
    })
})
```

#### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ health checks
```go
goify.RegisterHealthCheck("external_api", func() goify.HealthCheck {
    client := &http.Client{Timeout: 5 * time.Second}
    resp, err := client.Get("https://api.example.com/status")
    
    if err != nil {
        return goify.HealthCheck{
            Name:    "external_api",
            Status:  goify.StatusUnhealthy,
            Message: err.Error(),
        }
    }
    defer resp.Body.Close()
    
    if resp.StatusCode != 200 {
        return goify.HealthCheck{
            Name:    "external_api",
            Status:  goify.StatusDegraded,
            Message: fmt.Sprintf("API returned %d", resp.StatusCode),
        }
    }
    
    return goify.HealthCheck{
        Name:    "external_api",
        Status:  goify.StatusHealthy,
        Message: "External API is responding",
    }
})
```

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Health Checks

#### Database Health Check
```go
goify.RegisterHealthCheck("postgres", goify.DatabaseHealthCheck(func() error {
    return db.Ping()
}))
```

#### Redis Health Check
```go
goify.RegisterHealthCheck("redis", goify.RedisHealthCheck(func() error {
    return redisClient.Ping().Err()
}))
```

#### Memory Health Check
```go
goify.RegisterHealthCheck("memory", goify.MemoryHealthCheck(500))
```

#### Disk Space Health Check
```go
goify.RegisterHealthCheck("disk", goify.DiskSpaceHealthCheck("/var/lib/app", 5))
```

### Health Check Response

Health endpoint –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

```json
{
    "status": "healthy",
    "timestamp": "2024-01-01T12:00:00Z",
    "uptime": "2h 30m 45s",
    "version": "1.0.0",
    "environment": "production",
    "checks": {
        "database": {
            "name": "database",
            "status": "healthy",
            "message": "Database connection is healthy",
            "last_checked": "2024-01-01T12:00:00Z",
            "duration": "2ms"
        },
        "memory": {
            "name": "memory",
            "status": "healthy",
            "message": "Memory usage is normal: 45MB",
            "last_checked": "2024-01-01T12:00:00Z",
            "duration": "1ms",
            "data": {
                "allocated_mb": 45,
                "max_mb": 500
            }
        }
    }
}
```

### –°—Ç–∞—Ç—É—Å—ã Health Checks

- **healthy** - –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–æ—à–ª–∏ —É—Å–ø–µ—à–Ω–æ
- **degraded** - –ï—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –Ω–æ —Å–µ—Ä–≤–∏—Å —Ä–∞–±–æ—Ç–∞–µ—Ç
- **unhealthy** - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã, —Å–µ—Ä–≤–∏—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω


## –û—Å–Ω–æ–≤–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```go
app := goify.New()

// HTTP –º–µ—Ç–æ–¥—ã
app.GET("/users", getUsersHandler)
app.POST("/users", createUserHandler)
app.PUT("/users/:id", updateUserHandler)
app.DELETE("/users/:id", deleteUserHandler)
app.PATCH("/users/:id", patchUserHandler)

// URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
app.GET("/users/:id", func(c *goify.Context) {
    userID := c.Param("id") // –ü–æ–ª—É—á–∏—Ç—å URL –ø–∞—Ä–∞–º–µ—Ç—Ä
    c.SendSuccess(goify.H{"user_id": userID})
})

// –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
app.GET("/users/:userId/posts/:postId", func(c *goify.Context) {
    userID := c.Param("userId")
    postID := c.Param("postId")
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–æ–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
})

// Wildcard –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (–∑–∞—Ö–≤–∞—Ç –≤—Å–µ–≥–æ)
app.GET("/files/*filepath", func(c *goify.Context) {
    filepath := c.Param("filepath") // –ü–æ–ª—É—á–∞–µ—Ç –≤—Å—ë –ø–æ—Å–ª–µ /files/
})
```

### Graceful Shutdown

```go
app := goify.New()

app.GET("/", func(c *goify.Context) {
    c.SendSuccess(goify.H{"message": "–°–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç"})
})

app.OnShutdown(func() {
    log.Println("–ó–∞–∫—Ä—ã—Ç–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –ë–î...")
})

config := goify.ShutdownConfig{
    Timeout: 30 * time.Second,
}

if err := app.ListenAndServeWithGracefulShutdown(":3000", config); err != nil {
    log.Fatal(err)
}
```

### Health Checks

```go
goify.SetAppInfo("1.0.0", "production")

goify.RegisterHealthCheck("database", goify.DatabaseHealthCheck(func() error {
    return db.Ping()
}))

goify.RegisterHealthCheck("redis", goify.RedisHealthCheck(func() error {
    return redisClient.Ping().Err()
}))

goify.RegisterHealthCheck("memory", goify.MemoryHealthCheck(500))

app.GET("/health", goify.HealthCheckHandler())

app.GET("/liveness", func(c *goify.Context) {
    c.JSON(200, goify.H{"status": "alive"})
})
```

### –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

```go
// –û–¥–∏–Ω–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
app.POST("/upload", func(c *goify.Context) {
    file, err := c.FormFile("avatar")
    if err != nil {
        c.SendBadRequest("–§–∞–π–ª –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω")
        return
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞
    validation := goify.FileValidation{
        MaxSize:      5 * 1024 * 1024, // 5MB
        AllowedTypes: []string{"image/jpeg", "image/png"},
        AllowedExts:  []string{".jpg", ".jpeg", ".png"},
        Required:     true,
    }
    
    if err := c.ValidateFile(file, validation); err != nil {
        c.SendFileUploadError(err)
        return
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
    savedPath, err := c.SaveUploadedFile(file, "./uploads/")
    if err != nil {
        c.SendInternalError("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞")
        return
    }
    
    c.SendCreated(goify.H{
        "filename":   file.Filename,
        "path":       savedPath,
        "size":       goify.FormatFileSize(file.Size),
        "url":        "/uploads/" + filepath.Base(savedPath),
    })
})

// –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤
app.POST("/upload/multiple", func(c *goify.Context) {
    files, err := c.FormFiles("files")
    if err != nil {
        c.SendBadRequest("–§–∞–π–ª—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã")
        return
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤
    validation := goify.FileValidation{MaxSize: 10 * 1024 * 1024}
    if errors := c.ValidateFiles(files, validation); len(errors) > 0 {
        c.SendFileUploadError(errors)
        return
    }
    
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤...
})

// Multipart —Ñ–æ—Ä–º–∞ —Å —Ñ–∞–π–ª–∞–º–∏ –∏ –¥–∞–Ω–Ω—ã–º–∏
type UploadRequest struct {
    Title string            `form:"title" validate:"required"`
    File  *goify.FileHeader `form:"file"`
}

app.POST("/upload/form", func(c *goify.Context) {
    var req UploadRequest
    
    if err := c.BindMultipart(&req); err != nil {
        c.SendBadRequest("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã")
        return
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞...
})
```

### –ì—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

```go
// –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API
v1 := app.Group("/api/v1")
v1.GET("/users", handler)     // /api/v1/users
v1.POST("/users", handler)    // /api/v1/users

// –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã
admin := v1.Group("/admin")
admin.GET("/stats", handler)  // /api/v1/admin/stats

// –ì—Ä—É–ø–ø–æ–≤—ã–µ middleware
api := app.Group("/api")
api.Use(goify.Logger())
api.Use(authMiddleware)
api.GET("/protected", handler)
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤

```go
app.GET("/users", func(c *goify.Context) {
    // –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
    name := c.Query("name")
    age, _ := c.QueryInt("age")
    page := c.QueryDefault("page", "1")
    
    // –ó–∞–≥–æ–ª–æ–≤–∫–∏
    userAgent := c.GetHeader("User-Agent")
    
    // –ü—Ä–∏–≤—è–∑–∫–∞ JSON
    var user User
    if err := c.BindJSON(&user); err != nil {
        c.SendBadRequest("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π JSON")
        return
    }
    
    c.SendSuccess(user)
})
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

```go
// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ç–µ–≥–∞–º–∏
type User struct {
    Name  string `json:"name" validate:"required,min=2,max=50"`
    Email string `json:"email" validate:"required,email"`
    Age   int    `json:"age" validate:"required,min=18,max=120"`
}

// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
app.POST("/users", func(c *goify.Context) {
    var user User
    
    // –ü—Ä–∏–≤—è–∑–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –æ–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π
    if err := c.BindAndValidate(&user); err != nil {
        c.SendValidationError(err)
        return
    }
    
    c.SendCreated(user, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω")
})

// –í–∞–ª–∏–¥–∞—Ü–∏—è query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
type QueryParams struct {
    Page  int    `query:"page" validate:"min=1,max=1000"`
    Limit int    `query:"limit" validate:"min=1,max=100"`
    Sort  string `query:"sort" validate:"oneof=name email age"`
}

app.GET("/users", func(c *goify.Context) {
    var params QueryParams
    params.Page = 1 // –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    
    if err := c.ValidateQuery(&params); err != nil {
        c.SendValidationError(err)
        return
    }
    
    // params —Ç–µ–ø–µ—Ä—å —Å–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
})
```

### –ü–æ–º–æ—â–Ω–∏–∫–∏ –æ—Ç–≤–µ—Ç–æ–≤

```go
// JSON –æ—Ç–≤–µ—Ç—ã
c.JSON(200, goify.H{"key": "value"})
c.SendSuccess(data, "–û–ø–µ—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ")
c.SendCreated(newUser, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω")

// –û—Ç–≤–µ—Ç—ã —Å –æ—à–∏–±–∫–∞–º–∏
c.SendBadRequest("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")
c.SendNotFound("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω")
c.SendInternalError("–ß—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫")

// –î—Ä—É–≥–∏–µ –æ—Ç–≤–µ—Ç—ã
c.String(200, "–ü—Ä–∏–≤–µ—Ç %s", name)
c.HTML(200, "<h1>–ü—Ä–∏–≤–µ—Ç –º–∏—Ä</h1>")
c.Redirect(302, "/login")
```

### Middleware

```go
app := goify.New()

// –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ middleware
app.Use(goify.Logger())
app.Use(goify.Recovery())
app.Use(goify.CORS())
app.Use(goify.RequestID())

// –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
rateLimiter := goify.NewRateLimiter(100, time.Minute)
app.Use(rateLimiter.Middleware())

// –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
app.Use(goify.BasicAuth("username", "password"))

// –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
app.Use(goify.Static("/static", "./public"))

// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π middleware
app.Use(func(c *goify.Context, next func()) {
    // –î–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
    start := time.Now()
    c.Set("start", start)
    
    next() // –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É middleware/–æ–±—Ä–∞–±–æ—Ç—á–∏–∫—É
    
    // –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞
    duration := time.Since(start)
    log.Printf("–ó–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–µ–Ω –∑–∞ %v", duration)
})
```

## –ü—Ä–∏–º–µ—Ä—ã

–ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –ø–∞–ø–∫—É [examples](./examples/) –¥–ª—è –±–æ–ª–µ–µ –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ø—Ä–∏–º–µ—Ä–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

- [–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä](./examples/basic/main.go) - –ü—Ä–æ—Å—Ç—ã–µ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
- [–ü—Ä–∏–º–µ—Ä Middleware](./examples/middleware/main.go) - –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ middleware
- [–ì—Ä—É–ø–ø—ã –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](./examples/groups-params/main.go) - URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≥—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
- [–í–∞–ª–∏–¥–∞—Ü–∏—è](./examples/validation/main.go) - –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ —Å struct tags
- [–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤](./examples/upload/main.go) - –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- [Graceful Shutdown](./examples/shutdown/main.go) - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∏ health checks

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API

### –ú–µ—Ç–æ–¥—ã Router

- `New()` - –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞
- `Use(middleware...)` - –î–æ–±–∞–≤–∏—Ç—å middleware –∫ —Ä–æ—É—Ç–µ—Ä—É
- `Group(prefix)` - –°–æ–∑–¥–∞—Ç—å –≥—Ä—É–ø–ø—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º
- `OnShutdown(fn)` - –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
- `Shutdown(ctx)` - –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—å —Å–µ—Ä–≤–µ—Ä
- `ListenAndServeWithGracefulShutdown(addr, config)` - –ó–∞–ø—É—Å–∫ —Å graceful shutdown
- `GET(path, handler)` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å GET –º–∞—Ä—à—Ä—É—Ç
- `POST(path, handler)` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å POST –º–∞—Ä—à—Ä—É—Ç
- `PUT(path, handler)` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å PUT –º–∞—Ä—à—Ä—É—Ç
- `DELETE(path, handler)` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å DELETE –º–∞—Ä—à—Ä—É—Ç
- `PATCH(path, handler)` - –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å PATCH –º–∞—Ä—à—Ä—É—Ç
- `Listen(addr)` - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä

### –ú–µ—Ç–æ–¥—ã Context

#### –ó–∞–ø—Ä–æ—Å
- `Query(key)` - –ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞
- `QueryDefault(key, default)` - –ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `QueryInt(key)` - –ü–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –∑–∞–ø—Ä–æ—Å–∞ –∫–∞–∫ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ
- `Param(key)` - –ü–æ–ª—É—á–∏—Ç—å URL –ø–∞—Ä–∞–º–µ—Ç—Ä
- `GetHeader(key)` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞
- `BindJSON(obj)` - –ü—Ä–∏–≤—è–∑–∞—Ç—å JSON –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- `BindAndValidate(obj)` - –ü—Ä–∏–≤—è–∑–∞—Ç—å JSON –∏ –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å
- `ValidateStruct(obj)` - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É
- `ValidateQuery(obj)` - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- `FormFile(key)` - –ü–æ–ª—É—á–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
- `FormFiles(key)` - –ü–æ–ª—É—á–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `BindMultipart(obj)` - –ü—Ä–∏–≤—è–∑–∞—Ç—å multipart —Ñ–æ—Ä–º—É –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ
- `ValidateFile(file, validation)` - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
- `ValidateFiles(files, validation)` - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `SaveUploadedFile(file, dir)` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–π —Ñ–∞–π–ª
- `GetUploadedFileInfo(key)` - –ü–æ–ª—É—á–∏—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–µ
- `Body()` - –ü–æ–ª—É—á–∏—Ç—å —Å—ã—Ä–æ–µ —Ç–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞
- `Set(key, value)` - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ
- `Get(key)` - –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

#### –û—Ç–≤–µ—Ç
- `JSON(code, obj)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å JSON –æ—Ç–≤–µ—Ç
- `String(code, format, values...)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç
- `HTML(code, html)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å HTML –æ—Ç–≤–µ—Ç
- `SendSuccess(data, message?)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
- `SendError(code, message, details?)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç —Å –æ—à–∏–±–∫–æ–π
- `SendCreated(data, message?)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç 201
- `SendBadRequest(message, details?)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç 400
- `SendValidationError(errors)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç 422 —Å –æ—à–∏–±–∫–∞–º–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- `SendFileUploadError(errors)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞
- `SendFieldError(field, message)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫—É –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—è
- `SendNotFound(message?)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–≤–µ—Ç 404
- `SetHeader(key, value)` - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ –æ—Ç–≤–µ—Ç–∞
- `Redirect(code, location)` - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–¥–∏—Ä–µ–∫—Ç

## –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ Middleware

### Logger
–õ–æ–≥–∏—Ä—É–µ—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:
```go
app.Use(goify.Logger())
```

### Recovery
–í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –ø–∞–Ω–∏–∫ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç 500 –æ—à–∏–±–∫—É:
```go
app.Use(goify.Recovery())
```

### CORS
–î–æ–±–∞–≤–ª—è–µ—Ç CORS –∑–∞–≥–æ–ª–æ–≤–∫–∏:
```go
// –ë–∞–∑–æ–≤—ã–π CORS
app.Use(goify.CORS())

// CORS —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏
app.Use(goify.CORSWithConfig(goify.CORSConfig{
    AllowOrigins: []string{"http://localhost:3000", "https://myapp.com"},
    AllowMethods: []string{"GET", "POST", "PUT", "DELETE"},
    AllowHeaders: []string{"Content-Type", "Authorization"},
}))
```

### BasicAuth
–ë–∞–∑–æ–≤–∞—è HTTP –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:
```go
app.Use(goify.BasicAuth("admin", "secret"))
```

### RateLimit
–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤:
```go
rateLimiter := goify.NewRateLimiter(100, time.Minute) // 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É
app.Use(rateLimiter.Middleware())
```

### Static
–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤:
```go
app.Use(goify.Static("/static", "./public"))
```

### RequestID
–î–æ–±–∞–≤–ª—è–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∫ –∫–∞–∂–¥–æ–º—É –∑–∞–ø—Ä–æ—Å—É:
```go
app.Use(goify.RequestID())

// –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ
app.GET("/", func(c *goify.Context) {
    requestID, _ := c.Get("requestID")
    // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å requestID
})
```

## –ü–æ–ª–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```go
package main

import (
    "log"
    "time"
    "github.com/VsRnA/goify"
)

func main() {
    app := goify.New()

    // –ì–ª–æ–±–∞–ª—å–Ω—ã–µ middleware
    app.Use(goify.Logger())
    app.Use(goify.Recovery())
    app.Use(goify.CORS())
    app.Use(goify.RequestID())

    // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —á–∞—Å—Ç–æ—Ç—ã –∑–∞–ø—Ä–æ—Å–æ–≤
    rateLimiter := goify.NewRateLimiter(10, time.Minute)
    app.Use(rateLimiter.Middleware())

    // –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
    app.Use(goify.Static("/static", "./static"))

    // –ú–∞—Ä—à—Ä—É—Ç—ã
    app.GET("/", func(c *goify.Context) {
        c.SendSuccess(goify.H{
            "message": "–ü—Ä–∏–≤–µ—Ç –æ—Ç Goify!",
            "version": "1.0.0",
        })
    })

    app.POST("/users", func(c *goify.Context) {
        var user struct {
            Name  string `json:"name" validate:"required,min=2,max=50"`
            Email string `json:"email" validate:"required,email"`
        }

        if err := c.BindAndValidate(&user); err != nil {
            c.SendValidationError(err)
            return
        }

        c.SendCreated(goify.H{
            "id":    123,
            "name":  user.Name,
            "email": user.Email,
        }, "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ")
    })

    // –ó–∞—â–∏—â–µ–Ω–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç
    adminGroup := app.Group("/admin")
    adminGroup.Use(goify.BasicAuth("admin", "secret"))
    adminGroup.GET("/dashboard", func(c *goify.Context) {
        c.SendSuccess(goify.H{
            "message": "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –∞–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å!",
        })
    })

    log.Println("üöÄ –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ http://localhost:3000")
    log.Fatal(app.Listen(":3000"))
}
```

## URL –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

Goify –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤:

### –û–¥–∏–Ω–æ—á–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```go
app.GET("/users/:id", func(c *goify.Context) {
    userID := c.Param("id") // –ü–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
})
// –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç: /users/123, /users/abc
```

### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```go
app.GET("/users/:userId/posts/:postId", func(c *goify.Context) {
    userID := c.Param("userId")
    postID := c.Param("postId")
})
// –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç: /users/123/posts/456
```

### Wildcard –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
```go
app.GET("/files/*filepath", func(c *goify.Context) {
    filepath := c.Param("filepath") // –ü–æ–ª—É—á–∞–µ—Ç –≤–µ—Å—å –æ—Å—Ç–∞–ª—å–Ω–æ–π –ø—É—Ç—å
})
```

## –ì—Ä—É–ø–ø—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤

–ì—Ä—É–ø–ø—ã –ø–æ–∑–≤–æ–ª—è—é—Ç –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –º–∞—Ä—à—Ä—É—Ç—ã —Å –æ–±—â–∏–º–∏ –ø—Ä–µ—Ñ–∏–∫—Å–∞–º–∏ –∏ middleware:

### –ë–∞–∑–æ–≤—ã–µ –≥—Ä—É–ø–ø—ã
```go
api := app.Group("/api")
api.GET("/users", handler)    // /api/users
api.POST("/users", handler)   // /api/users
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã
```go
v1 := app.Group("/api/v1")
admin := v1.Group("/admin")
admin.GET("/stats", handler)  // /api/v1/admin/stats
```

### –ì—Ä—É–ø–ø–æ–≤—ã–µ middleware
```go
api := app.Group("/api")
api.Use(authMiddleware)       // –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫–æ –≤—Å–µ–º –º–∞—Ä—à—Ä—É—Ç–∞–º –≥—Ä—É–ø–ø—ã
api.Use(loggingMiddleware)

api.GET("/protected", handler) // –¢—Ä–µ–±—É–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
```

### –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
```go
users := app.Group("/users")
users.GET("/:id", getUserHandler)           // /users/123
users.GET("/:id/posts", getUserPostsHandler) // /users/123/posts
users.POST("/:id/posts", createPostHandler)  // /users/123/posts
```

## –í–∞–ª–∏–¥–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

Goify –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—É—é —Å–∏—Å—Ç–µ–º—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π struct tags:

### –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

#### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
```go
type User struct {
    Name string `json:"name" validate:"required"`
}
```

#### –î–ª–∏–Ω–∞ –∏ —Ä–∞–∑–º–µ—Ä
```go
type User struct {
    Name     string `json:"name" validate:"min=2,max=50"`
    Age      int    `json:"age" validate:"min=18,max=120"`
    Tags     []string `json:"tags" validate:"max=5"`
}
```

#### –§–æ—Ä–º–∞—Ç—ã
```go
type User struct {
    Email   string `json:"email" validate:"email"`
    Website string `json:"website" validate:"url"`
    Phone   string `json:"phone" validate:"numeric"`
}
```

#### –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è
```go
type User struct {
    Role     string `json:"role" validate:"oneof=admin user moderator"`
    Username string `json:"username" validate:"alphanum"`
    Name     string `json:"name" validate:"alpha"`
}
```

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã

```go
// –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞
goify.RegisterValidator("strong_password", func(value interface{}, param string) error {
    password := value.(string)
    if len(password) < 8 {
        return fmt.Errorf("–ø–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤")
    }
    // –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏...
    return nil
})

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
type User struct {
    Password string `json:"password" validate:"required,strong_password"`
}
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä

```go
type Address struct {
    Street  string `json:"street" validate:"required,min=5"`
    City    string `json:"city" validate:"required"`
    Country string `json:"country" validate:"required,min=2"`
}

type User struct {
    Name    string  `json:"name" validate:"required"`
    Address Address `json:"address" validate:"required"`
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

```go
app.POST("/users", func(c *goify.Context) {
    var user User
    
    if err := c.BindAndValidate(&user); err != nil {
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏
        c.SendValidationError(err)
        return
    }
    
    // –î–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–Ω—ã
    c.SendCreated(user)
})
```

### –ü–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤

| –í–∞–ª–∏–¥–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----------|----------|---------|
| `required` | –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ | `validate:"required"` |
| `min=N` | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞/–∑–Ω–∞—á–µ–Ω–∏–µ | `validate:"min=2"` |
| `max=N` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞/–∑–Ω–∞—á–µ–Ω–∏–µ | `validate:"max=50"` |
| `email` | Email —Ñ–æ—Ä–º–∞—Ç | `validate:"email"` |
| `url` | URL —Ñ–æ—Ä–º–∞—Ç | `validate:"url"` |
| `alpha` | –¢–æ–ª—å–∫–æ –±—É–∫–≤—ã | `validate:"alpha"` |
| `alphanum` | –ë—É–∫–≤—ã –∏ —Ü–∏—Ñ—Ä—ã | `validate:"alphanum"` |
| `numeric` | –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã | `validate:"numeric"` |
| `oneof=a b c` | –û–¥–Ω–æ –∏–∑ –∑–Ω–∞—á–µ–Ω–∏–π | `validate:"oneof=admin user"` |

## –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

Goify –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Ñ–∞–π–ª–æ–≤ —á–µ—Ä–µ–∑ multipart forms —Å –º–æ—â–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏:

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –û–¥–∏–Ω–æ—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞
```go
app.POST("/upload", func(c *goify.Context) {
    file, err := c.FormFile("file")
    if err != nil {
        c.SendBadRequest("–§–∞–π–ª –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω")
        return
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –∏–º–µ–Ω–µ–º
    savedPath, err := c.SaveUploadedFile(file, "./uploads/")
    if err != nil {
        c.SendInternalError("–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è")
        return
    }
    
    c.SendCreated(goify.H{"path": savedPath})
})
```

#### –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
```go
app.POST("/upload/multiple", func(c *goify.Context) {
    files, err := c.FormFiles("files")
    if err != nil {
        c.SendBadRequest("–§–∞–π–ª—ã –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã")
        return
    }
    
    var savedFiles []string
    for _, file := range files {
        path, _ := c.SaveUploadedFile(file, "./uploads/")
        savedFiles = append(savedFiles, path)
    }
    
    c.SendCreated(goify.H{"files": savedFiles})
})
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤

#### –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
```go
validation := goify.FileValidation{
    MaxSize:      5 * 1024 * 1024, // 5MB
    MinSize:      1024,             // 1KB
    AllowedTypes: []string{"image/jpeg", "image/png"},
    AllowedExts:  []string{".jpg", ".jpeg", ".png"},
    Required:     true,
}

if err := c.ValidateFile(file, validation); err != nil {
    c.SendFileUploadError(err)
    return
}
```

#### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
```go
func getValidationForCategory(category string) goify.FileValidation {
    switch category {
    case "image":
        return goify.FileValidation{
            MaxSize:      5 * 1024 * 1024,
            AllowedTypes: []string{"image/jpeg", "image/png", "image/gif"},
            AllowedExts:  []string{".jpg", ".jpeg", ".png", ".gif"},
        }
    case "document":
        return goify.FileValidation{
            MaxSize:      10 * 1024 * 1024,
            AllowedTypes: []string{"application/pdf", "text/plain"},
            AllowedExts:  []string{".pdf", ".txt", ".doc", ".docx"},
        }
    case "video":
        return goify.FileValidation{
            MaxSize:      50 * 1024 * 1024,
            AllowedTypes: []string{"video/mp4", "video/avi"},
            AllowedExts:  []string{".mp4", ".avi", ".mov"},
        }
    }
    return goify.FileValidation{}
}
```

### Multipart —Ñ–æ—Ä–º—ã —Å –¥–∞–Ω–Ω—ã–º–∏

```go
type FileUploadRequest struct {
    Title       string            `form:"title" validate:"required"`
    Description string            `form:"description" validate:"max=500"`
    Category    string            `form:"category" validate:"oneof=image document video"`
    File        *goify.FileHeader `form:"file"`
    IsPublic    bool              `form:"is_public"`
}

app.POST("/upload/form", func(c *goify.Context) {
    var req FileUploadRequest
    
    // –ü—Ä–∏–≤—è–∑–∫–∞ —Ñ–æ—Ä–º—ã (–≤–∫–ª—é—á–∞—è —Ñ–∞–π–ª—ã)
    if err := c.BindMultipart(&req); err != nil {
        c.SendBadRequest("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã")
        return
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã
    if validationErrors := c.ValidateStruct(&req); len(validationErrors) > 0 {
        c.SendValidationError(validationErrors)
        return
    }
    
    // –í–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–π–ª–∞
    validation := getValidationForCategory(req.Category)
    if err := c.ValidateFile(req.File, validation); err != nil {
        c.SendFileUploadError(err)
        return
    }
    
    // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞...
})
```

### –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏

```go
// –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ñ–∞–π–ª–µ
fileInfo, err := c.GetUploadedFileInfo("file")
// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç: filename, size, size_human, content_type, is_image

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
exists := goify.FileExists("./uploads/file.jpg")

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
size, err := goify.GetFileSize("./uploads/file.jpg")

// –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞
humanSize := goify.FormatFileSize(1024576) // "1.0 MB"

// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ MIME —Ç–∏–ø–∞
mimeType := goify.GetMimeType("image.jpg") // "image/jpeg"

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
isImage := goify.IsImageFile("image/jpeg") // true

// –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞
err := goify.DeleteFile("./uploads/file.jpg")
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏

```go
// –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤
c.SendFileUploadError(err)           // –û–±—â–∞—è –æ—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏
c.SendFileTooBigError(maxSize)       // –§–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π

// –ü—Ä–∏–º–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
if err := c.ValidateFile(file, validation); err != nil {
    if uploadErr, ok := err.(goify.FileUploadError); ok {
        switch uploadErr.Code {
        case "max_size":
            c.SendFileTooBigError(validation.MaxSize)
        case "invalid_type":
            c.SendFileUploadError(goify.FileUploadError{
                Message: "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞",
                Code:    "invalid_type",
            })
        default:
            c.SendFileUploadError(err)
        }
    }
    return
}
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

Goify –ø–æ—Å—Ç—Ä–æ–µ–Ω –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–µ Go –∏ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ reflection –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç—è—Ö
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∞–ª–ª–æ–∫–∞—Ü–∏–∏ –ø–∞–º—è—Ç–∏
- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ middleware
- –ë—ã—Å—Ç—Ä–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è